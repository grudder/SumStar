@using PagedList
@using PagedList.Mvc
@using SumStar.Models

@model IPagedList<Content>

@{
	ViewBag.Title = @ViewBag.Category.Name;
}

<div id="content-header">
	<h1>@ViewBag.Category.Name</h1>
</div>
<div class="container body-content">
	<div class="row">
		<div class="col-md-3">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<div class="row">
						<div class="col-md-12">
							<h3 class="panel-title">
								@ViewBag.Category.Name
							</h3>
						</div>
					</div>
				</div>
				<div class="panel-body panel-body-tree">
					<ul id="treeCategory" class="ztree"></ul>
				</div>
			</div>
		</div>
		<div class="col-md-9">
			<div class="content-list-header">
				<h3 class="pull-left">@ViewBag.Title</h3>
				<span class="pull-right">
					@{Html.RenderAction("Navigator", "Categories", new {@ViewBag.Category.Id});}
				</span>
			</div>

			<table class="table table-striped table-hover">
				<tbody>
				@foreach (var item in Model) {
					<tr>
						<td>
							@Html.ActionLink(item.Title, "Detail", "Contents", new {item.Id}, null)
						</td>
						<td class="right-align">
							@Html.DisplayFor(modelItem => item.CreateTime)
						</td>
					</tr>
				}
				</tbody>
			</table>

			@Html.PagedListPager(Model, page => Url.Action("Index", new {page}))
		</div>
	</div>
</div>
